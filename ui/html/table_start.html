<!DOCTYPE html>
<html lang="en">
<head>
    <head>

        <meta charset="UTF-8">
        <title>Таблица</title>

        <link rel="stylesheet" href="/static/css/styles.css">
        <link rel="stylesheet" href="/static/css/animation.css">
        <link rel='shortcut icon' href='/static/img/icon.png' type='image/png'>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    </head>
</head>
<body>
<div id="navbar">
    <a href="/" class="underline-one">Главная</a>
    <a href="/table" class="underline-one">Таблица</a>
</div>
<div style="margin-left: 30px;margin-right: 40px;margin-top: 130px">
    <div class="element-animation">
        <h2>
            Таблица трубопроводов
        </h2>
        <table style>
            <tr style>
                <td>
                    <span class="custom-dropdown">
					<form action="" method="GET" class="mt-4" style="width: 110%">
						<select name=model id="pipe_container" style="width:100%; background: #2980b9">
							<!--<option value="0">-</option>-->
						</select>
						<p><button type="submit"
                                   class="btn-16">Загрузить данные</button></p>
					</form>
				</span>
                </td>
                <td id="data_container">
                    <a>Модель: -</a>
                    <table>
                        <th>
                        <td>
                            Режим работы трубы
                            <div id='param_flow_regime'>-</div>
                        </td>
                        </th>
                        <tr>

                            <td>
                                Загрузка
                                <div id='param_charge'>-</div>
                            </td>
                            <td>
                                Qн
                                <div id='param-Qn'>-</div>
                            </td>
                            <td>
                                Qг
                                <div id='param-Qg'>-</div>
                            </td>
                            <td>
                                Qв
                                <div id='param-Qv'>-</div>
                            </td>
                            <td>
                                Р
                                <div id='param-R'>-</div>
                            </td>
                            <td>
                                т
                                <div id='param-T'>-</div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Фактическая скорость потока
                                <div id='param-factic_velocity'>-</div>
                            </td>
                            <td>
                                Критическая скорость перехода в расслоенный поток
                                <div id='param-critic_velocity'>-</div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Процент накопленного износа
                                <div id='param-crash'>-</div>
                            </td>
                            <td>
                                Остаточный ресурс, годы
                                <div id='param-lifetime'>-</div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
</div>

<script src="/static/js/animation.js" type="text/javascript"></script>
<script src="/static/js/navbar.js" type="text/javascript"></script>

<script type="module">
    import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";


    d3.csv("/static/files/pipe_data.csv", function (data) {
        var s = document.createElement("option");
        s.value = data.Name;
        var text = document.createTextNode(data.Name);
        s.appendChild(text);
        pipe_container.appendChild(s);
    })

    $('form').on('submit', function (e) {
        e.preventDefault();
        var but = $(this).find('[type="submit"]').toggleClass('sending').blur();

        setTimeout(function () {
            but.removeClass('sending').blur();
        }, 4500);

    })
</script>
</body>
</html>