<!DOCTYPE html>
<html>
<head>

    <meta charset="UTF-8">
    <title>Домашняя страница</title>
	
    <link rel="stylesheet" href="/static/css/styles.css">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	
	<style>
	th, table{
		border: 1px solid black
	}
	</style>

</head>
<body>
	<div class="navbar">
		<a href="/home" class="underline-one">Главная</a>
		<a href="/home" class="underline-one">Неглавная</a>
	</div>
	<h1>Это наш прекрасный сайт с интерактивными графиками</h1>
	<p>Здесь очень крутое описание нашего решения, сгенерированное с помощью GigaChat</p>
	<!--<div id = "container"></div>--> 
	
	<div id = "container"></div>
<!-- 

-->
	<table style="width:100%">
		<tr style="height=500px">
			<td>
				Таблица труб
				<table id = "pipe_container">

				</table>
			</td>
			<td id= "data_container">
				Красивая таблица
				<table>
				<th> 
					<td>
						Режим работы трубы
						<div id='param_flow_regime'>-</div>
					</td>
				</th>
				<tr>
					
					<td>
						Загрузка
						<div id='param_charge'>-</div>
					</td>
					<td>
						Qн
						<div id='param-Qn'>-</div>
					</td>
					<td>
						Qг
						<div id='param-Qg'>-</div>
					</td>
					<td>
						Qв
						<div id='param-Qv'>-</div>
					</td>
					<td>
						Р
						<div id='param-R'>-</div>
					</td>
					<td>
						т
						<div id='param-T'>-</div>
					</td>
				</tr>
				<tr>
					<td>
						Фактическая скорость потока
						<div id='param-factic_velocity'>-</div>
					</td>
					<td>
						Критическая скорость перехода в расслоенный поток
						<div id='param-critic_velocity'>-</div>
					</td>
				</tr>
				<tr>
					<td>
						Процент накопленного износа
						<div id='param-crash'>-</div>
					</td>
					<td>
						Остаточный ресурс, годы
						<div id='param-lifetime'>-</div>
					</td>
				</tr>
				</table>
			</td>
		</tr>
	</table>
	
	<p>Здесь небольшое описание графика. Хз какое оно будет</p>
	<script type="module">
		import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
			// Declare the chart dimensions and margins.
		/*const width = 640; 	// ширина графика
		const height = 400; // длинна графика
		const marginTop = 20;
		const marginRight = 20;
		const marginBottom = 30;
		const marginLeft = 40;

		// Объявление горизонтальной шкалы(в данном случае date)
		const x = d3.scaleLog()
			.domain([1, 1000])
			.range([marginLeft, width - marginRight]); // размеры

		// Объявление вертикальной шкалы
		const y = d3.scaleLinear()
			.domain([0, 100])
			.range([height - marginBottom, marginTop]); // размеры

		// Создается svg контейнер
		const svg = d3.create("svg")
			.attr("width", width)
			.attr("height", height);

		// Добавляется ось x
		svg.append("g")
			.attr("transform", `translate(0,${height - marginBottom})`)
			.call(d3.axisBottom(x));
		// Добавляется ось y
		svg.append("g")
			.attr("transform", `translate(${marginLeft},0)`)
			.call(d3.axisLeft(y));

		// Append the SVG element.
		data_container.append(svg.node());*/
		
		let model = "A-B4";
		
		function setModel(text){
			let model = text;
		}
		
		d3.csv("pipe_data.csv", function(data){
				var s = document.createElement("tr");
				var text = document.createTextNode(data.Name);
				s.appendChild(text);
				pipe_container.appendChild(s);
			} )
		d3.json("example.json", function(data){
				if(data.model == model){
					document.getElementByID("param-charge").innerHTML = data.param_charge;
				}
			})
	</script>
</body>
</html>